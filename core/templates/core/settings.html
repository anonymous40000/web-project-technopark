{% extends "questions/base.html" %}
{% load static %}

{% block title %}Settings â€¢ OlegOverFlow{% endblock %}

{% block main %}
<div class="main-wrapper">
  <div class="main-container">
    <main class="main-content">
      <form class="form" method="post" enctype="multipart/form-data">
        {% csrf_token %}

        {% if messages %}
          <ul class="form__messages">
            {% for m in messages %}<li>{{ m }}</li>{% endfor %}
          </ul>
        {% endif %}

        {% if form.non_field_errors %}
          <div class="form__errors">
            {% for error in form.non_field_errors %}
              <div class="error">{{ error }}</div>
            {% endfor %}
          </div>
        {% endif %}

        <h2 class="form__title">Profile Settings</h2>

        <div class="form__group">
          <label class="form__label" for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
          {{ form.username }}
          {% if form.username.help_text %}
            <div class="form__help">{{ form.username.help_text }}</div>
          {% endif %}
          {% if form.username.errors %}
            <div class="form__errors">{{ form.username.errors }}</div>
          {% endif %}
        </div>

        <div class="form__group">
          <label class="form__label" for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
          {{ form.email }}
          {% if form.email.help_text %}
            <div class="form__help">{{ form.email.help_text }}</div>
          {% endif %}
          {% if form.email.errors %}
            <div class="form__errors">{{ form.email.errors }}</div>
          {% endif %}
        </div>

        <div class="form__group">
          <label class="form__label" for="{{ form.bio.id_for_label }}">{{ form.bio.label }}</label>
          {{ form.bio }}
          {% if form.bio.help_text %}
            <div class="form__help">{{ form.bio.help_text }}</div>
          {% endif %}
          {% if form.bio.errors %}
            <div class="form__errors">{{ form.bio.errors }}</div>
          {% endif %}
        </div>

        <div class="form__group">
          <label class="form__label" for="{{ form.avatar.id_for_label }}">{{ form.avatar.label }}</label>
          {{ form.avatar }}
          {% if form.avatar.help_text %}
            <div class="form__help">{{ form.avatar.help_text }}</div>
          {% endif %}
          {% if form.avatar.errors %}
            <div class="form__errors">{{ form.avatar.errors }}</div>
          {% endif %}
        </div>

        <div class="form__actions">
          <button class="btn btn--primary" type="submit">Save Changes</button>
          <a href="{% url 'questions:index' %}" class="btn btn--secondary">Cancel</a>
        </div>
      </form>
    </main>
  </div>
</div>
{% endblock %}